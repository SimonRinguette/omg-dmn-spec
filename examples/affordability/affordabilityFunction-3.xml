<?xml version="1.0" encoding="UTF-8"?>
<Definitions id="affFn" namespace="http://example.org/affordabilityFunction" xmlns="http://www.omg.org/spec/DMN/20130901" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.omg.org/spec/DMN/20130901 dmn3.xsd">
	<ItemDefinition id="affType">
		<typeDefinition>boolean</typeDefinition>
	</ItemDefinition>
	<ItemDefinition id="numType">
		<typeDefinition>number</typeDefinition>
	</ItemDefinition>
	<ItemDefinition id="iDef02" name="RiskCatType">
		<typeDefinition>string</typeDefinition>
		<allowedValue id="_1">
			<text>"A"</text>
		</allowedValue>
		<allowedValue id="_2">
			<text>"B"</text>
		</allowedValue>
		<allowedValue id="_3">
			<text>"C"</text>
		</allowedValue>
	</ItemDefinition>
	<BusinessKnowledgeModel id="bkmAffordability" name="Affordability calculation">
		<FunctionDefinition id="fAffordability" name="Affordability function">
			<InformationItem id="mIncome" name="monthlyIncome">
				<itemDefinition href="#numType"/>
			</InformationItem>
			<InformationItem id="mRepayments" name="monthlyRepayments">
				<itemDefinition href="#numType"/>
			</InformationItem>
			<InformationItem id="mExpenses" name="monthlyExpenses">
				<itemDefinition href="#numType"/>
			</InformationItem>
			<InformationItem id="riskCat" name="riskCat">
				<itemDefinition href="#numType"/>
			</InformationItem>
			<InformationItem id="mInstallment" name="monthlyInstallment">
				<itemDefinition href="#numType"/>
			</InformationItem>
			<Context id="cAffordability">
				<contextEntry>
					<InformationItem id="_disposableIncome" name="Disposable Income">
						<itemDefinition href="#numType"/>
					</InformationItem>
					<LiteralExpression>
						<text>monthlyIncome - (monthlyRepayments + monthlyExpenses)</text>
					</LiteralExpression>
				</contextEntry>
				<contextEntry>
					<InformationItem id="_CCFactor" name="Credit Contingency Factor">
						<itemDefinition href="#numType"/>
					</InformationItem>
					<Invocation>
						<binding>
							<LiteralExpression id="_02-10">
								<text>riskCat</text>
							</LiteralExpression>
							<parameter href="#_riskCat"/>
						</binding>
					</Invocation>
				</contextEntry>
				<contextEntry>
					<LiteralExpression id="_02-11">
						<text>if Disposable Income * Credit Contingency Factor > monthlyInstallment then true else false</text>
					</LiteralExpression>
				</contextEntry>
			</Context>
		</FunctionDefinition>
		<knowledgeRequirement>
			<requiredKnowledge href="#CCFTable"/>
		</knowledgeRequirement>
	</BusinessKnowledgeModel>
	<BusinessKnowledgeModel id="CCFTable" name="Credit Contingency Factor Table">
		<InformationItem id="_riskCat" name="Risk Category"/>
		<DecisionTable id="dt01"/>
	</BusinessKnowledgeModel>
</Definitions>
